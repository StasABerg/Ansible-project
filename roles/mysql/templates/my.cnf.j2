[mysqldump]
max_allowed_packet	= 16M

[mysqld]
default-authentication-plugin=mysql_native_password
#validate_password.special_char_count=0
#sql_mode="NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES"
skip-log-bin

performance_schema = ON
skip-name-resolve=1
skip-external-locking

bind-address    = {{ wp_host_ip }}
port={{ mysql_port }}
#socket     = /var/lib/mysql/mysql.sock

character-set-server  = utf8mb4
collation-server      = utf8mb4_unicode_ci

datadir		= /var/lib/mysql
tmpdir		= /var/tmp

#timeouts
wait_timeout = 300
interactive_timeout = 600

max_connections		= 500

table_open_cache = 4096
max_allowed_packet	= 32M
thread_stack		= 192K
thread_cache_size   = 32
max_heap_table_size     = 256M
tmp_table_size          = 256M

key_buffer_size		= 64M
join_buffer_size = 16M
sort_buffer_size = 16M
read_buffer_size = 4M
read_rnd_buffer_size = 1M


log_error = /var/log/mysql_error.log
slow_query_log_file	= /var/log/mysql_slow_sql.log
long_query_time = 1
#log-queries-not-using-indexes
#log_slow_verbosity	= query_plan


innodb_file_per_table=1
innodb_buffer_pool_size = 2G
innodb_buffer_pool_instances=2
innodb_flush_log_at_trx_commit = 0

innodb_log_file_size =512MM
innodb_log_buffer_size = 32M
innodb_log_files_in_group = 3

innodb_open_files = 4096
innodb_read_io_threads = 8
innodb_write_io_threads = 8


